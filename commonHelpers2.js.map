{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\n\nimport throttle from 'lodash.throttle';\n\n//Select player element\nconst iframe = document.querySelector('iframe');\n\n//Initiate player control\nconst player = new Player(iframe);\n\n//Set player timeline to the previously saved, only if storage is not a null\nif (localStorage.getItem('videoplayer-current-time')) {\n  player.setCurrentTime(localStorage.getItem('videoplayer-current-time'));\n}\n\n//Saves current time in seconds to localStorage\nconst saveVideoTime = throttle(function (data) {\n  try {\n    //Set video time to the beginning if it has reached the end\n    let currentVideoTime = data.percent === 1 ? 0 : data.seconds;\n    localStorage.setItem('videoplayer-current-time', currentVideoTime);\n  } catch (e) {\n    //Show in concole data about error\n    console.log(e);\n  }\n}, 1000);\n\n//Adds event listener to the player timeline changes\nplayer.on('timeupdate', data => {\n  saveVideoTime(data);\n});\n"],"names":["iframe","player","Player","saveVideoTime","throttle","data","currentVideoTime","e"],"mappings":"+IAKA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EAGxCC,EAAS,IAAIC,EAAOF,CAAM,EAG5B,aAAa,QAAQ,0BAA0B,GACjDC,EAAO,eAAe,aAAa,QAAQ,0BAA0B,CAAC,EAIxE,MAAME,EAAgBC,EAAS,SAAUC,EAAM,CAC7C,GAAI,CAEF,IAAIC,EAAmBD,EAAK,UAAY,EAAI,EAAIA,EAAK,QACrD,aAAa,QAAQ,2BAA4BC,CAAgB,CAClE,OAAQC,EAAP,CAEA,QAAQ,IAAIA,CAAC,CACd,CACH,EAAG,GAAI,EAGPN,EAAO,GAAG,aAAcI,GAAQ,CAC9BF,EAAcE,CAAI,CACpB,CAAC"}