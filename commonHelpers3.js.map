{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formElement = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('.feedback-form [name=\"email\"]');\nconst messageInput = document.querySelector('.feedback-form [name=\"message\"]');\n\nfillFormFields();\n\nconst handleInput = throttle(() => {\n  const formData = new FormData(formElement);\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(Object.fromEntries(formData.entries()))\n  );\n}, 500);\n\nformElement.addEventListener('input', event => {\n  handleInput();\n});\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const formData = new FormData(formElement);\n  console.log(Object.fromEntries(formData.entries()));\n  formElement.reset();\n}\n\nformElement.addEventListener('submit', event => {\n  handleSubmit(event);\n});\n\nfunction fillFormFields() {\n  let savedValues = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (savedValues.email) {\n    emailInput.value = savedValues.email;\n  }\n  if (savedValues.message) {\n    messageInput.value = savedValues.message;\n  }\n}\n"],"names":["formElement","emailInput","messageInput","fillFormFields","handleInput","throttle","formData","event","handleSubmit","savedValues"],"mappings":"wIAEA,MAAMA,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAa,SAAS,cAAc,+BAA+B,EACnEC,EAAe,SAAS,cAAc,iCAAiC,EAE7EC,IAEA,MAAMC,EAAcC,EAAS,IAAM,CACjC,MAAMC,EAAW,IAAI,SAASN,CAAW,EAEzC,aAAa,QACX,sBACA,KAAK,UAAU,OAAO,YAAYM,EAAS,QAAO,CAAE,CAAC,CACzD,CACA,EAAG,GAAG,EAENN,EAAY,iBAAiB,QAASO,GAAS,CAC7CH,GACF,CAAC,EAED,SAASI,EAAaD,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMD,EAAW,IAAI,SAASN,CAAW,EACzC,QAAQ,IAAI,OAAO,YAAYM,EAAS,QAAS,CAAA,CAAC,EAClDN,EAAY,MAAK,CACnB,CAEAA,EAAY,iBAAiB,SAAUO,GAAS,CAC9CC,EAAaD,CAAK,CACpB,CAAC,EAED,SAASJ,GAAiB,CACxB,IAAIM,EAAc,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACpEA,EAAY,QACdR,EAAW,MAAQQ,EAAY,OAE7BA,EAAY,UACdP,EAAa,MAAQO,EAAY,QAErC"}