{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\n//Selecting form and input fields\nconst formElement = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('.feedback-form [name=\"email\"]');\nconst messageInput = document.querySelector('.feedback-form [name=\"message\"]');\n\n//Fill form inputs with local storage data if it's not empty\nfillFormFields();\n\n//Save values from inputs fields to local storage every 500ms\nconst handleInput = throttle(() => {\n  const formData = new FormData(formElement);\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(Object.fromEntries(formData.entries()))\n  );\n}, 500);\n\n//Set listener if user type something in the form fields\nformElement.addEventListener('input', event => {\n  handleInput();\n});\n\n//Show values of form fields in console and clean data\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const formData = new FormData(formElement);\n  console.log(Object.fromEntries(formData.entries()));\n  localStorage.removeItem('feedback-form-state');\n  formElement.reset();\n}\n\n//Adds submit event listener to form\nformElement.addEventListener('submit', event => {\n  handleSubmit(event);\n});\n\n//Fill form inputs with local storage data if it's not empty\nfunction fillFormFields() {\n  let savedValues = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (savedValues) {\n    emailInput.value = savedValues.email;\n    messageInput.value = savedValues.message;\n  }\n}\n"],"names":["formElement","emailInput","messageInput","fillFormFields","handleInput","throttle","formData","event","handleSubmit","savedValues"],"mappings":"wIAGA,MAAMA,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAa,SAAS,cAAc,+BAA+B,EACnEC,EAAe,SAAS,cAAc,iCAAiC,EAG7EC,IAGA,MAAMC,EAAcC,EAAS,IAAM,CACjC,MAAMC,EAAW,IAAI,SAASN,CAAW,EAEzC,aAAa,QACX,sBACA,KAAK,UAAU,OAAO,YAAYM,EAAS,QAAO,CAAE,CAAC,CACzD,CACA,EAAG,GAAG,EAGNN,EAAY,iBAAiB,QAASO,GAAS,CAC7CH,GACF,CAAC,EAGD,SAASI,EAAaD,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMD,EAAW,IAAI,SAASN,CAAW,EACzC,QAAQ,IAAI,OAAO,YAAYM,EAAS,QAAS,CAAA,CAAC,EAClD,aAAa,WAAW,qBAAqB,EAC7CN,EAAY,MAAK,CACnB,CAGAA,EAAY,iBAAiB,SAAUO,GAAS,CAC9CC,EAAaD,CAAK,CACpB,CAAC,EAGD,SAASJ,GAAiB,CACxB,IAAIM,EAAc,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACpEA,IACFR,EAAW,MAAQQ,EAAY,MAC/BP,EAAa,MAAQO,EAAY,QAErC"}